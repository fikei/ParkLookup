â„¹ï¸ Google Maps SDK not installed. Map features will use placeholder.
LocalZoneDataSource initialized
PersistentZoneCache initialized at: /Users/ian/Library/Developer/CoreSimulator/Devices/B9A9D495-4857-49A2-B859-36D644F0D98A/data/Containers/Data/Application/49831D3C-F809-481F-88DD-A7EFA59928F6/Library/Caches/ZoneData
ZoneRepository initialized
Getting zones for city: sf
Loaded 421 zones from disk cache in 286.4ms
âœ“ Returning 421 zones from cache
No active session to load
Loaded 10 sessions from history
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
ğŸš€ BUILD VERIFICATION: makeUIView called with 0 zones - DUPLICATE FIX ACTIVE
Failed to locate resource named "default.csv"
CAMetalLayer ignoring invalid setDrawableSize width=0.000000 height=0.000000
ğŸ” updateUIView called: overlaysLoaded=false, userPermitAreas=[], lastUserPermitAreas=[]
ğŸ” Visibility check: showOverlays=false, overlaysVisible=false, overlays.count=0
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
ğŸ” updateUIView called: overlaysLoaded=false, userPermitAreas=[], lastUserPermitAreas=[]
ğŸ” Visibility check: showOverlays=false, overlaysVisible=false, overlays.count=0
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
Resetting GeoCodec zone allocator at address 0x600003d5fc00 with 377 allocations still alive
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
Getting zones for city: sf
Cache hit (memory) for city: sf
âœ“ Returning 421 zones from cache
âœ… Loaded 421 zones in 6.9ms: 33 RPP, 388 metered, 0 other
ğŸ“Š Spatial index: 421 bounding boxes, 98 grid cells
Returning result with primary zone: I, confidence: medium
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
ğŸš€ BUILD VERIFICATION: makeUIView called with 421 zones - DUPLICATE FIX ACTIVE
Failed to locate resource named "default.csv"
CAMetalLayer ignoring invalid setDrawableSize width=0.000000 height=0.000000
ğŸ” updateUIView called: overlaysLoaded=false, userPermitAreas=["I"], lastUserPermitAreas=[]
ğŸ” Updating coordinator userPermitAreas: [] -> ["I"]
ğŸ“ User coordinate changed - recentering map to (37.759000, -122.423500)
ğŸ¬ Initial overlay load: 421 zones (overlaysLoaded=false)
ğŸ”§ loadOverlays called with shouldShowOverlays=false
ğŸ”§ loadOverlays: initialized lastUserPermitAreas=["I"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=0, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=1, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=2, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=3, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=4, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=5, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=6, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=7, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=BB, boundaryIndex=8, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=C, boundaryIndex=6, validAreas=["C", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=F, boundaryIndex=6, validAreas=["F", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=F, boundaryIndex=7, validAreas=["F", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=F, boundaryIndex=8, validAreas=["F", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=G, boundaryIndex=14, validAreas=["F", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=G, boundaryIndex=15, validAreas=["F", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=G, boundaryIndex=16, validAreas=["F", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=G, boundaryIndex=29, validAreas=["C", "G"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=12, validAreas=["HV", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=13, validAreas=["HV", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=14, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=15, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=16, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=17, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=18, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=19, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=20, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=21, validAreas=["HV", "Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=22, validAreas=["HV", "Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=23, validAreas=["HV", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=24, validAreas=["HV", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=HV, boundaryIndex=25, validAreas=["HV", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=46, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=47, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=48, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=49, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=50, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=51, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=52, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=53, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=54, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=I, boundaryIndex=55, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=26, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=27, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=28, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=29, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=30, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=31, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=32, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=33, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=L, boundaryIndex=34, validAreas=["BB", "L"]
  ğŸ¯ Multi-permit boundary matched: zone=P, boundaryIndex=10, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=P, boundaryIndex=11, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=P, boundaryIndex=12, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=P, boundaryIndex=13, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=13, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=14, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=15, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=16, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=17, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=18, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=19, validAreas=["HV", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=20, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=21, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=22, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=23, validAreas=["P", "Q"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=24, validAreas=["HV", "Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=25, validAreas=["HV", "Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=26, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=27, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=28, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=29, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=30, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=31, validAreas=["Q", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=Q, boundaryIndex=32, validAreas=["Q", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=R, boundaryIndex=14, validAreas=["HV", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=R, boundaryIndex=15, validAreas=["HV", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=R, boundaryIndex=16, validAreas=["HV", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=R, boundaryIndex=17, validAreas=["Q", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=R, boundaryIndex=18, validAreas=["Q", "R"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=0, validAreas=["HV", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=1, validAreas=["HV", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=63, validAreas=["HV", "Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=64, validAreas=["HV", "Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=65, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=66, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=67, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=68, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=69, validAreas=["Q", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=70, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=71, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=72, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=73, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=74, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=75, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=76, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=77, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=78, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=S, boundaryIndex=79, validAreas=["I", "S"]
  ğŸ¯ Multi-permit boundary matched: zone=W, boundaryIndex=26, validAreas=["W", "X"]
  ğŸ¯ Multi-permit boundary matched: zone=X, boundaryIndex=17, validAreas=["W", "X"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=34, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=35, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=36, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=37, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=38, validAreas=["S", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=39, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=40, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=41, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=42, validAreas=["I", "Z"]
  ğŸ¯ Multi-permit boundary matched: zone=Z, boundaryIndex=43, validAreas=["I", "Z"]
ğŸ”§ DEBUG: MainResultView body - devMode: true, expanded: true, panel: false
ğŸ” updateUIView called: overlaysLoaded=true, userPermitAreas=["I"], lastUserPermitAreas=["I"]
âœ“ Overlay parameters updated (no reload needed)
ğŸ” Visibility check: showOverlays=false, overlaysVisible=false, overlays.count=0
ğŸš§ PoC: Hiding zone overlays (blockface mode active)
ğŸš§ PoC: Initial load with blockface overlays enabled - zooming to Mission/Valencia 22nd-25th sample area
Loading blockfaces from sample JSON
Loaded 16 blockfaces
ğŸš§ PoC: Loaded 16 blockfaces
ğŸ”§ DEBUG: Adding 16 blockface overlays
ğŸ”§ DEBUG: Blockface 0 (Mission St, EVEN side)
  Centerline points: 2
  First point: lat=37.7564, lon=-122.4193
  Second point: lat=37.757, lon=-122.4191
  Direction: dlat=0.0005999999999986017, dlon=0.0002000000000066393

ğŸ”§ DEBUG: Perpendicular calculation
  Side: EVEN (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7564, lon=-122.4193
  First map point: x=42935281.836942226m, y=103773373.88404742m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=-565.88m, dy=-149.13m
    Perp angle: -165.2Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.756400, -122.419300)
    Offset coord: (37.756408, -122.419339)
    Coord delta: dlat=0.00000803, dlon=-0.00003852
  Point 1 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757000, -122.419100)
    Offset coord: (37.757008, -122.419139)
    Coord delta: dlat=0.00000803, dlon=-0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7564, lon=-122.4193
    [1] CENTER: lat=37.757, lon=-122.4191
    [2] OFFSET: lat=37.75700802506495, lon=-122.41913851573808
    [3] OFFSET: lat=37.75640802513003, lon=-122.41933851573809
  Created polygon with 4 points
  Width setting: 0.0003 degrees (TESTING: forced large)
  âœ… Adding polygon overlay to map
ğŸ“ Creating BlockfacePolygonRenderer for Mission St EVEN
  ğŸ¨ Renderer config for Mission St EVEN: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
  âœ… Adding centerline polyline overlay to map
ğŸ“ Creating BlockfacePolylineRenderer for Mission St
ğŸ”§ DEBUG: Blockface 1 (Mission St, ODD side)
  Centerline points: 2
  First point: lat=37.7565, lon=-122.4189
  Second point: lat=37.7571, lon=-122.4187
  Direction: dlat=0.0005999999999986017, dlon=0.00019999999999242846

ğŸ”§ DEBUG: Perpendicular calculation
  Side: ODD (offsetToRight=true)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7565, lon=-122.4189
  First map point: x=42935580.098560005m, y=103773279.57155441m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=565.88m, dy=149.13m
    Perp angle: 14.8Â°
    Angle difference: 90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.756500, -122.418900)
    Offset coord: (37.756492, -122.418861)
    Coord delta: dlat=-0.00000803, dlon=0.00003852
  Point 1 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757100, -122.418700)
    Offset coord: (37.757092, -122.418661)
    Coord delta: dlat=-0.00000803, dlon=0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7565, lon=-122.4189
    [1] CENTER: lat=37.7571, lon=-122.4187
    [2] OFFSET: lat=37.75709197495517, lon=-122.41866148425854
    [3] OFFSET: lat=37.756491974890075, lon=-122.41886148425853
  Created polygon with 4 points
  Width setting: 0.0003 degrees (TESTING: forced large)
  âœ… Adding polygon overlay to map
ğŸ“ Creating BlockfacePolygonRenderer for Mission St ODD
  ğŸ¨ Renderer config for Mission St ODD: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
  âœ… Adding centerline polyline overlay to map
ğŸ“ Creating BlockfacePolylineRenderer for Mission St
ğŸ”§ DEBUG: Blockface 2 (Mission St, EVEN side)
  Centerline points: 2
  First point: lat=37.757, lon=-122.4191
  Second point: lat=37.7576, lon=-122.4189
  Direction: dlat=0.0005999999999986017, dlon=0.0002000000000066393

ğŸ”§ DEBUG: Perpendicular calculation
  Side: EVEN (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.757, lon=-122.4191
  First map point: x=42935430.967751116m, y=103772808.00717713m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=-565.88m, dy=-149.13m
    Perp angle: -165.2Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757000, -122.419100)
    Offset coord: (37.757008, -122.419139)
    Coord delta: dlat=0.00000803, dlon=-0.00003852
  Point 1 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757600, -122.418900)
    Offset coord: (37.757608, -122.418939)
    Coord delta: dlat=0.00000802, dlon=-0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.757, lon=-122.4191
    [1] CENTER: lat=37.7576, lon=-122.4189
    [2] OFFSET: lat=37.75760802493902, lon=-122.41893851575837
    [3] OFFSET: lat=37.75700802500409, lon=-122.41913851575836
  Created polygon with 4 points
  Width setting: 0.0003 degrees (TESTING: forced large)
  âœ… Adding polygon overlay to map
ğŸ“ Creating BlockfacePolygonRenderer for Mission St EVEN
  ğŸ¨ Renderer config for Mission St EVEN: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
  âœ… Adding centerline polyline overlay to map
ğŸ“ Creating BlockfacePolylineRenderer for Mission St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: ODD (offsetToRight=true)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7571, lon=-122.4187
  First map point: x=42935729.22936889m, y=103772713.69391921m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=565.88m, dy=149.13m
    Perp angle: 14.8Â°
    Angle difference: 90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757100, -122.418700)
    Offset coord: (37.757092, -122.418661)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  Point 1 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757700, -122.418500)
    Offset coord: (37.757692, -122.418461)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7571, lon=-122.4187
    [1] CENTER: lat=37.7577, lon=-122.4185
    [2] OFFSET: lat=37.757691975081116, lon=-122.41846148423824
    [3] OFFSET: lat=37.75709197501603, lon=-122.41866148423826
ğŸ“ Creating BlockfacePolygonRenderer for Mission St ODD
  ğŸ¨ Renderer config for Mission St ODD: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Mission St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: EVEN (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7576, lon=-122.4189
  First map point: x=42935580.098560005m, y=103772242.12571737m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.89m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=-565.89m, dy=-149.13m
    Perp angle: -165.2Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757600, -122.418900)
    Offset coord: (37.757608, -122.418939)
    Coord delta: dlat=0.00000802, dlon=-0.00003852
  Point 1 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.758200, -122.418700)
    Offset coord: (37.758208, -122.418739)
    Coord delta: dlat=0.00000802, dlon=-0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7576, lon=-122.4189
    [1] CENTER: lat=37.7582, lon=-122.4187
    [2] OFFSET: lat=37.75820802481307, lon=-122.41873851577866
    [3] OFFSET: lat=37.75760802487815, lon=-122.41893851577865
ğŸ“ Creating BlockfacePolygonRenderer for Mission St EVEN
  ğŸ¨ Renderer config for Mission St EVEN: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Mission St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: ODD (offsetToRight=true)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7577, lon=-122.4185
  First map point: x=42935878.360177785m, y=103772147.81169455m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.89m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=565.89m, dy=149.13m
    Perp angle: 14.8Â°
    Angle difference: 90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757700, -122.418500)
    Offset coord: (37.757692, -122.418461)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  Point 1 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.758300, -122.418300)
    Offset coord: (37.758292, -122.418261)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7577, lon=-122.4185
    [1] CENTER: lat=37.7583, lon=-122.4183
    [2] OFFSET: lat=37.75829197520706, lon=-122.41826148421795
    [3] OFFSET: lat=37.757691975141974, lon=-122.41846148421794
ğŸ“ Creating BlockfacePolygonRenderer for Mission St ODD
  ğŸ¨ Renderer config for Mission St ODD: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Mission St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: EVEN (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7564, lon=-122.4207
  First map point: x=42934237.921280004m, y=103773373.88404742m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=-565.88m, dy=-149.13m
    Perp angle: -165.2Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.756400, -122.420700)
    Offset coord: (37.756408, -122.420739)
    Coord delta: dlat=0.00000803, dlon=-0.00003852
  Point 1 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757000, -122.420500)
    Offset coord: (37.757008, -122.420539)
    Coord delta: dlat=0.00000803, dlon=-0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7564, lon=-122.4207
    [1] CENTER: lat=37.757, lon=-122.4205
    [2] OFFSET: lat=37.75700802506495, lon=-122.42053851573809
    [3] OFFSET: lat=37.75640802513003, lon=-122.42073851573808
ğŸ“ Creating BlockfacePolygonRenderer for Valencia St EVEN
  ğŸ¨ Renderer config for Valencia St EVEN: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Valencia St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: ODD (offsetToRight=true)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7565, lon=-122.4203
  First map point: x=42934536.182897784m, y=103773279.57155441m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=565.88m, dy=149.13m
    Perp angle: 14.8Â°
    Angle difference: 90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.756500, -122.420300)
    Offset coord: (37.756492, -122.420261)
    Coord delta: dlat=-0.00000803, dlon=0.00003852
  Point 1 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757100, -122.420100)
    Offset coord: (37.757092, -122.420061)
    Coord delta: dlat=-0.00000803, dlon=0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7565, lon=-122.4203
    [1] CENTER: lat=37.7571, lon=-122.4201
    [2] OFFSET: lat=37.75709197495517, lon=-122.42006148425854
    [3] OFFSET: lat=37.756491974890075, lon=-122.42026148425853
ğŸ“ Creating BlockfacePolygonRenderer for Valencia St ODD
  ğŸ¨ Renderer config for Valencia St ODD: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Valencia St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: EVEN (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.757, lon=-122.4205
  First map point: x=42934387.052088894m, y=103772808.00717713m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=-565.88m, dy=-149.13m
    Perp angle: -165.2Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757000, -122.420500)
    Offset coord: (37.757008, -122.420539)
    Coord delta: dlat=0.00000803, dlon=-0.00003852
  Point 1 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757600, -122.420300)
    Offset coord: (37.757608, -122.420339)
    Coord delta: dlat=0.00000802, dlon=-0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.757, lon=-122.4205
    [1] CENTER: lat=37.7576, lon=-122.4203
    [2] OFFSET: lat=37.75760802493902, lon=-122.42033851575836
    [3] OFFSET: lat=37.75700802500409, lon=-122.42053851575837
ğŸ“ Creating BlockfacePolygonRenderer for Valencia St EVEN
  ğŸ¨ Renderer config for Valencia St EVEN: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Valencia St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: ODD (offsetToRight=true)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7571, lon=-122.4201
  First map point: x=42934685.31370666m, y=103772713.69391921m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.88m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=565.88m, dy=149.13m
    Perp angle: 14.8Â°
    Angle difference: 90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757100, -122.420100)
    Offset coord: (37.757092, -122.420061)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  Point 1 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757700, -122.419900)
    Offset coord: (37.757692, -122.419861)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7571, lon=-122.4201
    [1] CENTER: lat=37.7577, lon=-122.4199
    [2] OFFSET: lat=37.757691975081116, lon=-122.41986148423824
    [3] OFFSET: lat=37.75709197501603, lon=-122.42006148423826
ğŸ“ Creating BlockfacePolygonRenderer for Valencia St ODD
  ğŸ¨ Renderer config for Valencia St ODD: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Valencia St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: EVEN (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7576, lon=-122.4203
  First map point: x=42934536.182897784m, y=103772242.12571737m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.89m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=-565.89m, dy=-149.13m
    Perp angle: -165.2Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.757600, -122.420300)
    Offset coord: (37.757608, -122.420339)
    Coord delta: dlat=0.00000802, dlon=-0.00003852
  Point 1 offset:
    Normalized perp: dx=-0.967, dy=-0.255
    Offset distance: 29.7m
    Center coord: (37.758200, -122.420100)
    Offset coord: (37.758208, -122.420139)
    Coord delta: dlat=0.00000802, dlon=-0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7576, lon=-122.4203
    [1] CENTER: lat=37.7582, lon=-122.4201
    [2] OFFSET: lat=37.75820802481307, lon=-122.42013851577866
    [3] OFFSET: lat=37.75760802487815, lon=-122.42033851577865
ğŸ“ Creating BlockfacePolygonRenderer for Valencia St EVEN
  ğŸ¨ Renderer config for Valencia St EVEN: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Valencia St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: ODD (offsetToRight=true)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7577, lon=-122.4199
  First map point: x=42934834.44451556m, y=103772147.81169455m
  Point 0:
    Forward vector: dx=149.13m, dy=-565.89m
    Forward angle: -75.2Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=565.89m, dy=149.13m
    Perp angle: 14.8Â°
    Angle difference: 90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.757700, -122.419900)
    Offset coord: (37.757692, -122.419861)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  Point 1 offset:
    Normalized perp: dx=0.967, dy=0.255
    Offset distance: 29.7m
    Center coord: (37.758300, -122.419700)
    Offset coord: (37.758292, -122.419661)
    Coord delta: dlat=-0.00000802, dlon=0.00003852
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7577, lon=-122.4199
    [1] CENTER: lat=37.7583, lon=-122.4197
    [2] OFFSET: lat=37.75829197520706, lon=-122.41966148421795
    [3] OFFSET: lat=37.757691975141974, lon=-122.41986148421795
ğŸ“ Creating BlockfacePolygonRenderer for Valencia St ODD
  ğŸ¨ Renderer config for Valencia St ODD: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for Valencia St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: NORTH (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7576, lon=-122.4195
  First map point: x=42935132.706133336m, y=103772242.12571737m
  Point 0:
    Forward vector: dx=447.39m, dy=0.00m
    Forward angle: 0.0Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=0.00m, dy=-447.39m
    Perp angle: -90.0Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.000, dy=-1.000
    Offset distance: 29.7m
    Center coord: (37.757600, -122.419500)
    Offset coord: (37.757631, -122.419500)
    Coord delta: dlat=0.00003149, dlon=0.00000000
  Point 1 offset:
    Normalized perp: dx=0.000, dy=-1.000
    Offset distance: 29.7m
    Center coord: (37.757600, -122.418900)
    Offset coord: (37.757631, -122.418900)
    Coord delta: dlat=0.00003149, dlon=0.00000000
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7576, lon=-122.4195
    [1] CENTER: lat=37.7576, lon=-122.4189
    [2] OFFSET: lat=37.7576314905598, lon=-122.4189
    [3] OFFSET: lat=37.7576314905598, lon=-122.4195
ğŸ“ Creating BlockfacePolygonRenderer for 24th St NORTH
  ğŸ¨ Renderer config for 24th St NORTH: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for 24th St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: SOUTH (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7574, lon=-122.4189
  First map point: x=42935580.098560005m, y=103772430.7533806m
  Point 0:
    Forward vector: dx=-447.39m, dy=0.00m
    Forward angle: 180.0Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=0.00m, dy=447.39m
    Perp angle: 90.0Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.000, dy=1.000
    Offset distance: 29.7m
    Center coord: (37.757400, -122.418900)
    Offset coord: (37.757369, -122.418900)
    Coord delta: dlat=-0.00003149, dlon=0.00000000
  Point 1 offset:
    Normalized perp: dx=0.000, dy=1.000
    Offset distance: 29.7m
    Center coord: (37.757400, -122.419500)
    Offset coord: (37.757369, -122.419500)
    Coord delta: dlat=-0.00003149, dlon=0.00000000
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7574, lon=-122.4189
    [1] CENTER: lat=37.7574, lon=-122.4195
    [2] OFFSET: lat=37.757368509341646, lon=-122.4195
    [3] OFFSET: lat=37.757368509341646, lon=-122.4189
ğŸ“ Creating BlockfacePolygonRenderer for 24th St SOUTH
  ğŸ¨ Renderer config for 24th St SOUTH: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for 24th St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: NORTH (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.757, lon=-122.4195
  First map point: x=42935132.706133336m, y=103772808.00717713m
  Point 0:
    Forward vector: dx=447.39m, dy=0.00m
    Forward angle: 0.0Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=0.00m, dy=-447.39m
    Perp angle: -90.0Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.000, dy=-1.000
    Offset distance: 29.7m
    Center coord: (37.757000, -122.419500)
    Offset coord: (37.757031, -122.419500)
    Coord delta: dlat=0.00003149, dlon=0.00000000
  Point 1 offset:
    Normalized perp: dx=0.000, dy=-1.000
    Offset distance: 29.7m
    Center coord: (37.757000, -122.418900)
    Offset coord: (37.757031, -122.418900)
    Coord delta: dlat=0.00003149, dlon=0.00000000
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.757, lon=-122.4195
    [1] CENTER: lat=37.757, lon=-122.4189
    [2] OFFSET: lat=37.757031490815194, lon=-122.4189
    [3] OFFSET: lat=37.757031490815194, lon=-122.4195
ğŸ“ Creating BlockfacePolygonRenderer for 23rd St NORTH
  ğŸ¨ Renderer config for 23rd St NORTH: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for 23rd St

ğŸ”§ DEBUG: Perpendicular calculation
  Side: SOUTH (offsetToRight=false)
  Width: 0.0003Â° â‰ˆ 29.699999999999996m
  First coord: lat=37.7568, lon=-122.4189
  First map point: x=42935580.098560005m, y=103772996.6333105m
  Point 0:
    Forward vector: dx=-447.39m, dy=0.00m
    Forward angle: 180.0Â° (0Â°=east, 90Â°=south, -90Â°=north)
    Perp vector (raw): dx=0.00m, dy=447.39m
    Perp angle: 90.0Â°
    Angle difference: -90.0Â° (should be Â±90Â°)
  Point 0 offset:
    Normalized perp: dx=0.000, dy=1.000
    Offset distance: 29.7m
    Center coord: (37.756800, -122.418900)
    Offset coord: (37.756769, -122.418900)
    Coord delta: dlat=-0.00003149, dlon=0.00000000
  Point 1 offset:
    Normalized perp: dx=0.000, dy=1.000
    Offset distance: 29.7m
    Center coord: (37.756800, -122.419500)
    Offset coord: (37.756769, -122.419500)
    Coord delta: dlat=-0.00003149, dlon=0.00000000
  ğŸ”· COMPLETE POLYGON - Total vertices: 4
    [0] CENTER: lat=37.7568, lon=-122.4189
    [1] CENTER: lat=37.7568, lon=-122.4195
    [2] OFFSET: lat=37.75676850908626, lon=-122.4195
    [3] OFFSET: lat=37.75676850908626, lon=-122.4189
ğŸ“ Creating BlockfacePolygonRenderer for 23rd St SOUTH
  ğŸ¨ Renderer config for 23rd St SOUTH: fillOpacity=1.0 (TESTING: forced), stroke=DISABLED, color=ORANGE (forced)
ğŸ“ Creating BlockfacePolylineRenderer for 23rd St
âœ… PoC: Added blockface overlays to map